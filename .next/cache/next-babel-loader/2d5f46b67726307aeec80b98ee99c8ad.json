{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport connectDb from \"../../utils/connectDb\";\nimport axios from \"axios\";\nimport Plcaeinfo from '../../models/Placeinfo';\nconnectDb();\n\nfunction GetRecomendedPlace(_x, _x2) {\n  return _GetRecomendedPlace.apply(this, arguments);\n}\n\n_c2 = GetRecomendedPlace;\n\nfunction _GetRecomendedPlace() {\n  _GetRecomendedPlace = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(req, res) {\n    var recomendedplaces, url, payload, response, places, x;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            interest = \"relaxation\";\n            location = \"ss world park\";\n            console.log(location);\n            console.log(interest);\n            _context.prev = 4;\n            url = \"http://localhost:5000/recommand\";\n            payload = {\n              location: location,\n              interest: interest\n            };\n            _context.next = 9;\n            return axios.post(url, payload);\n\n          case 9:\n            response = _context.sent;\n            recomendedplaces = response.data.places;\n            _context.next = 17;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](4);\n            console.error(_context.t0);\n            res.status(500).send(\"Error . Please try again later\");\n\n          case 17:\n            console.log(recomendedplaces);\n            places = [];\n\n            for (x = 0; x < recomendedplaces.length; x++) {\n              places.push(recomendedplaces[x].split(\",\")[0]);\n            }\n\n            return _context.abrupt(\"return\", places);\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 13]]);\n  }));\n  return _GetRecomendedPlace.apply(this, arguments);\n}\n\n_c = GetRecomendedPlace;\n;\n\nfunction GeneratePlace(_x3, _x4) {\n  return _GeneratePlace.apply(this, arguments);\n}\n\n_c4 = GeneratePlace;\n\nfunction _GeneratePlace() {\n  _GeneratePlace = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(req, res) {\n    var places, placesdata, x, data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            places = req.body.places;\n            placesdata = [];\n            _context2.prev = 2;\n            x = 0;\n\n          case 4:\n            if (!(x < places.length)) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 7;\n            return Plcaeinfo.find({\n              name: places[x]\n            });\n\n          case 7:\n            data = _context2.sent;\n            placesdata.push(data);\n\n          case 9:\n            x++;\n            _context2.next = 4;\n            break;\n\n          case 12:\n            // console.log(placesdata);\n            res.status(201).json(placesdata);\n            _context2.next = 19;\n            break;\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](2);\n            console.error(_context2.t0);\n            res.status(500).send(\"Error . Please try again later\");\n\n          case 19:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[2, 15]]);\n  }));\n  return _GeneratePlace.apply(this, arguments);\n}\n\n_c3 = GeneratePlace;\n;\nmodules.exports.GetRecomendedPlace = GetRecomendedPlace;\nmodules.exports.GeneratePlace = GeneratePlace;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GetRecomendedPlace\");\n$RefreshReg$(_c2, \"GetRecomendedPlace\");\n$RefreshReg$(_c3, \"GeneratePlace\");\n$RefreshReg$(_c4, \"GeneratePlace\");","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/pages/api/recomend.js"],"names":["connectDb","axios","Plcaeinfo","GetRecomendedPlace","req","res","interest","location","console","log","url","payload","post","response","recomendedplaces","data","places","error","status","send","x","length","push","split","GeneratePlace","body","placesdata","find","name","json","modules","exports"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAuB,wBAAvB;AAEAF,SAAS;;SAEOG,kB;;;;MAAAA,kB;;;iFAAf,iBAAkCC,GAAlC,EAAuCC,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAKGC,YAAAA,QAAQ,GAAG,YAAX;AACAC,YAAAA,QAAQ,GAAG,eAAX;AAEAC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AATH;AAaaI,YAAAA,GAbb;AAcaC,YAAAA,OAdb,GAcuB;AAAEJ,cAAAA,QAAQ,EAARA,QAAF;AAAYD,cAAAA,QAAQ,EAARA;AAAZ,aAdvB;AAAA;AAAA,mBAe8BL,KAAK,CAACW,IAAN,CAAWF,GAAX,EAAgBC,OAAhB,CAf9B;;AAAA;AAeaE,YAAAA,QAfb;AAgBOC,YAAAA,gBAAgB,GAAGD,QAAQ,CAACE,IAAT,CAAcC,MAAjC;AAhBP;AAAA;;AAAA;AAAA;AAAA;AAkBOR,YAAAA,OAAO,CAACS,KAAR;AACAZ,YAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gCAArB;;AAnBP;AAsBGX,YAAAA,OAAO,CAACC,GAAR,CAAYK,gBAAZ;AAEME,YAAAA,MAxBT,GAwBkB,EAxBlB;;AAyBG,iBAAQI,CAAR,GAAY,CAAZ,EAAeA,CAAC,GAAGN,gBAAgB,CAACO,MAApC,EAA4CD,CAAC,EAA7C,EAAgD;AAC5CJ,cAAAA,MAAM,CAACM,IAAP,CAAYR,gBAAgB,CAACM,CAAD,CAAhB,CAAoBG,KAApB,CAA0B,GAA1B,EAA+B,CAA/B,CAAZ;AACH;;AA3BJ,6CA6BUP,MA7BV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;KAAeb,kB;AA8Bf;;SAGcqB,a;;;;MAAAA,a;;;4EAAf,kBAA6BpB,GAA7B,EAAkCC,GAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAEYW,YAAAA,MAFZ,GAEuBZ,GAAG,CAACqB,IAF3B,CAEYT,MAFZ;AAIUU,YAAAA,UAJV,GAIuB,EAJvB;AAAA;AAQgBN,YAAAA,CARhB,GAQoB,CARpB;;AAAA;AAAA,kBAQuBA,CAAC,GAAGJ,MAAM,CAACK,MARlC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAS+BnB,SAAS,CAACyB,IAAV,CAAe;AAAEC,cAAAA,IAAI,EAAEZ,MAAM,CAACI,CAAD;AAAd,aAAf,CAT/B;;AAAA;AASkBL,YAAAA,IATlB;AAUYW,YAAAA,UAAU,CAACJ,IAAX,CAAgBP,IAAhB;;AAVZ;AAQ0CK,YAAAA,CAAC,EAR3C;AAAA;AAAA;;AAAA;AAYQ;AACAf,YAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBW,IAAhB,CAAqBH,UAArB;AAbR;AAAA;;AAAA;AAAA;AAAA;AAeQlB,YAAAA,OAAO,CAACS,KAAR;AACAZ,YAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gCAArB;;AAhBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;MAAeK,a;AAoBd;AAGDM,OAAO,CAACC,OAAR,CAAgB5B,kBAAhB,GAAqCA,kBAArC;AACA2B,OAAO,CAACC,OAAR,CAAgBP,aAAhB,GAAgCA,aAAhC","sourcesContent":["import connectDb from \"../../utils/connectDb\";\r\nimport axios from \"axios\";\r\nimport Plcaeinfo from  '../../models/Placeinfo';\r\n\r\nconnectDb();\r\n\r\n async function GetRecomendedPlace(req, res) {\r\n\r\n  \r\n    let recomendedplaces;\r\n\r\n    interest = \"relaxation\";\r\n    location = \"ss world park\";\r\n\r\n    console.log(location);\r\n    console.log(interest);\r\n\r\n\r\n    try {\r\n        const url = `http://localhost:5000/recommand`;\r\n        const payload = { location, interest };\r\n        const response = await axios.post(url, payload);\r\n        recomendedplaces = response.data.places;\r\n    } catch (error) {\r\n        console.error(error);\r\n        res.status(500).send(\"Error . Please try again later\");\r\n    }\r\n\r\n    console.log(recomendedplaces);\r\n\r\n    const places = [];\r\n    for(var x = 0; x < recomendedplaces.length; x++){\r\n        places.push(recomendedplaces[x].split(\",\")[0]);\r\n    }\r\n\r\n    return places;\r\n};\r\n\r\n\r\nasync function GeneratePlace(req, res) {\r\n\r\n    const { places } = req.body;\r\n\r\n    const placesdata = [];\r\n\r\n    try {\r\n\r\n        for(var x = 0; x < places.length; x++){\r\n            const data = await Plcaeinfo.find({ name: places[x] });\r\n            placesdata.push(data);\r\n        }\r\n        // console.log(placesdata);\r\n        res.status(201).json(placesdata);\r\n      } catch (error) {\r\n        console.error(error);\r\n        res.status(500).send(\"Error . Please try again later\");\r\n      }\r\n\r\n\r\n};\r\n\r\n\r\nmodules.exports.GetRecomendedPlace = GetRecomendedPlace;\r\nmodules.exports.GeneratePlace = GeneratePlace;\r\n"]},"metadata":{},"sourceType":"module"}