{"ast":null,"code":"\"use strict\";\n\nvar _connectDb = _interopRequireDefault(require(\"../../utils/connectDb\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _Placeinfo = _interopRequireDefault(require(\"../../models/Placeinfo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _connectDb.default)();\n\nasync function GetRecomendedPlace(req, res) {\n  let recomendedplaces;\n  interest = \"relaxation\";\n  location = \"ss world park\";\n  console.log(location);\n  console.log(interest);\n\n  try {\n    const url = `http://localhost:5000/recommand`;\n    const payload = {\n      location,\n      interest\n    };\n    const response = await _axios.default.post(url, payload);\n    recomendedplaces = response.data.places;\n  } catch (error) {\n    console.error(error);\n    res.status(500).send(\"Error . Please try again later\");\n  }\n\n  console.log(recomendedplaces);\n  const places = [];\n\n  for (var x = 0; x < recomendedplaces.length; x++) {\n    places.push(recomendedplaces[x].split(\",\")[0]);\n  }\n\n  return places;\n}\n\n;\n\nasync function GeneratePlace(req, res) {\n  const {\n    places\n  } = req.body;\n  const placesdata = [];\n\n  try {\n    for (var x = 0; x < places.length; x++) {\n      const data = await _Placeinfo.default.find({\n        name: places[x]\n      });\n      placesdata.push(data);\n    } // console.log(placesdata);\n\n\n    res.status(201).json(placesdata);\n  } catch (error) {\n    console.error(error);\n    res.status(500).send(\"Error . Please try again later\");\n  }\n}\n\n;\nmodule.exports.GetRecomendedPlace = GetRecomendedPlace;\nmodule.exports.GeneratePlace = GeneratePlace;","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/pages/api/recomend.js"],"names":["GetRecomendedPlace","req","res","recomendedplaces","interest","location","console","log","url","payload","response","axios","post","data","places","error","status","send","x","length","push","split","GeneratePlace","body","placesdata","Plcaeinfo","find","name","json","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA;;AAEC,eAAeA,kBAAf,CAAkCC,GAAlC,EAAuCC,GAAvC,EAA4C;AAGzC,MAAIC,gBAAJ;AAEAC,EAAAA,QAAQ,GAAG,YAAX;AACAC,EAAAA,QAAQ,GAAG,eAAX;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AAGA,MAAI;AACA,UAAMI,GAAG,GAAI,iCAAb;AACA,UAAMC,OAAO,GAAG;AAAEJ,MAAAA,QAAF;AAAYD,MAAAA;AAAZ,KAAhB;AACA,UAAMM,QAAQ,GAAG,MAAMC,eAAMC,IAAN,CAAWJ,GAAX,EAAgBC,OAAhB,CAAvB;AACAN,IAAAA,gBAAgB,GAAGO,QAAQ,CAACG,IAAT,CAAcC,MAAjC;AACH,GALD,CAKE,OAAOC,KAAP,EAAc;AACZT,IAAAA,OAAO,CAACS,KAAR,CAAcA,KAAd;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gCAArB;AACH;;AAEDX,EAAAA,OAAO,CAACC,GAAR,CAAYJ,gBAAZ;AAEA,QAAMW,MAAM,GAAG,EAAf;;AACA,OAAI,IAAII,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGf,gBAAgB,CAACgB,MAApC,EAA4CD,CAAC,EAA7C,EAAgD;AAC5CJ,IAAAA,MAAM,CAACM,IAAP,CAAYjB,gBAAgB,CAACe,CAAD,CAAhB,CAAoBG,KAApB,CAA0B,GAA1B,EAA+B,CAA/B,CAAZ;AACH;;AAED,SAAOP,MAAP;AACH;;AAAA;;AAGD,eAAeQ,aAAf,CAA6BrB,GAA7B,EAAkCC,GAAlC,EAAuC;AAEnC,QAAM;AAAEY,IAAAA;AAAF,MAAab,GAAG,CAACsB,IAAvB;AAEA,QAAMC,UAAU,GAAG,EAAnB;;AAEA,MAAI;AAEA,SAAI,IAAIN,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,MAAM,CAACK,MAA1B,EAAkCD,CAAC,EAAnC,EAAsC;AAClC,YAAML,IAAI,GAAG,MAAMY,mBAAUC,IAAV,CAAe;AAAEC,QAAAA,IAAI,EAAEb,MAAM,CAACI,CAAD;AAAd,OAAf,CAAnB;AACAM,MAAAA,UAAU,CAACJ,IAAX,CAAgBP,IAAhB;AACH,KALD,CAMA;;;AACAX,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBY,IAAhB,CAAqBJ,UAArB;AACD,GARH,CAQI,OAAOT,KAAP,EAAc;AACdT,IAAAA,OAAO,CAACS,KAAR,CAAcA,KAAd;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gCAArB;AACD;AAGN;;AAAA;AAGDY,MAAM,CAACC,OAAP,CAAe9B,kBAAf,GAAoCA,kBAApC;AACA6B,MAAM,CAACC,OAAP,CAAeR,aAAf,GAA+BA,aAA/B","sourcesContent":["import connectDb from \"../../utils/connectDb\";\r\nimport axios from \"axios\";\r\nimport Plcaeinfo from  '../../models/Placeinfo';\r\n\r\nconnectDb();\r\n\r\n async function GetRecomendedPlace(req, res) {\r\n\r\n  \r\n    let recomendedplaces;\r\n\r\n    interest = \"relaxation\";\r\n    location = \"ss world park\";\r\n\r\n    console.log(location);\r\n    console.log(interest);\r\n\r\n\r\n    try {\r\n        const url = `http://localhost:5000/recommand`;\r\n        const payload = { location, interest };\r\n        const response = await axios.post(url, payload);\r\n        recomendedplaces = response.data.places;\r\n    } catch (error) {\r\n        console.error(error);\r\n        res.status(500).send(\"Error . Please try again later\");\r\n    }\r\n    \r\n    console.log(recomendedplaces);\r\n\r\n    const places = [];\r\n    for(var x = 0; x < recomendedplaces.length; x++){\r\n        places.push(recomendedplaces[x].split(\",\")[0]);\r\n    }\r\n\r\n    return places;\r\n};\r\n\r\n\r\nasync function GeneratePlace(req, res) {\r\n\r\n    const { places } = req.body;\r\n\r\n    const placesdata = [];\r\n\r\n    try {\r\n\r\n        for(var x = 0; x < places.length; x++){\r\n            const data = await Plcaeinfo.find({ name: places[x] });\r\n            placesdata.push(data);\r\n        }\r\n        // console.log(placesdata);\r\n        res.status(201).json(placesdata);\r\n      } catch (error) {\r\n        console.error(error);\r\n        res.status(500).send(\"Error . Please try again later\");\r\n      }\r\n\r\n\r\n};\r\n\r\n\r\nmodule.exports.GetRecomendedPlace = GetRecomendedPlace;\r\nmodule.exports.GeneratePlace = GeneratePlace;\r\n"]},"metadata":{},"sourceType":"script"}